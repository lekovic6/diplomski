<div class="container">
    
    <!-- search bar  -->
    <div class = "row searchBarRow justify-content-sm-center">
        <div class="col col-sm">
            <input type="text" [(ngModel)]="searchParam" name="search" id="searchInput" placeholder="Search..." style="width: 100%;">
        </div>
        
        <div class="col col-sm-1" >
            <button class="button" (click)="searchGenre()" style="width: 100%;">Search</button>
        </div>
    </div>


    <h2>{{genreShowName}} books: </h2>
    <div *ngIf="booksToShow && booksToShow.length > 0">
        <div *ngFor="let book of booksToShow | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage, totalItems: totalItems };" class="row justify-content-sm-center" >

            <div class="col col-sm-2" style="background-color: rgb(0, 255, 76);">
                <img class="card-image" [src]="book.coverData64" alt="Book Image" [routerLink]="['/bookDetails', book._id]">
            </div>
    
            <div class="col col-sm"><!-- zauzece koliko moze do 12-->
    
                <div class="row" style="background-color: rgb(255, 0, 191);" [routerLink]="['/bookDetails', book._id]">
                    {{book.title}} 
                    - DODAJ DA KAD HOVERUJEM PREKO IMENA DA SE PODVUCE IME - ili mozda da klikom na ceo card od knjige saljem na card details
                </div>
                
                <div class="row" style="background-color: rgb(0, 195, 255);">
                    by: ovo doraditi da bude u istom redu - pitaj chatGPT-IJA
                    <p *ngFor="let author of book.authors">
                        {{author.name}}
                    </p>
                </div>
    
                <div class="row" style="background-color: rgb(38, 0, 255);">
                    <p *ngIf="book.description == null">This book doesn't have a description yet.</p>
                    <p *ngIf="book.description && book.description.length <= 1000">{{book.description}}</p>
                    <p *ngIf="book.description && book.description.length > 1000">{{book.description.substring(0, 1000)}}...</p>
                </div>
    
            </div>
    
        </div>

        <!-- Pagination Controls -->
        <div class="d-flex justify-content-center">
            <pagination-controls  (pageChange)="currentPage = $event; searchGenre()"></pagination-controls>
        </div>

    </div>

    <div *ngIf="!booksToShow || booksToShow.length === 0">
        <h3>There are no books with this title. Try something else!</h3>
    </div>
    

</div>
